!function(t){function e(e){for(var i,a,s=e[0],u=e[1],c=e[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(_&&_(e);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={23:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var _=u;o.push([493,1,4,0,2]),n()}({140:function(t,e,n){},141:function(t,e,n){},142:function(t,e,n){},16:function(t,e,n){"use strict";n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return m}));n(140);var i,r=n(0),o=n.n(r),a=n(1),s=n.n(a),u=n(7);function c(t){var e=t.dom_el,n=t.max_width,i=t.max_height;s()(e&&p(n)&&p(i),{max_width:n,max_height:i,dom_el:e});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;s()(n>=0&&e>=0,{outer_height:n,outer_width:e});var i=100,r=t.innerHTML;r.length<1&&(r="y");var o=_(t.tagName);o.innerHTML=r;var a=o.textContent;if(""===a)return Object(u.d)({name:"[known_unexpected][get_max_font_size]empty_dummy",value:r}),{fontSize:0,width:0,height:0};o.style.fontFamily=l(t,"font-family"),o.style.fontSize=i+"px",o.style.whiteSpace="nowrap",o.style.letterSpacing=l(t,"letter-spacing"),o.style.lineHeight=l(t,"line-height");var c=d(o,"height"),f=d(o,"width");if(s()(a.length>0),s()(p(f)&&p(c),{dummy_width:f,dummy_height:c,dummy_html:r}),0===c||0===f)return 0!==c||0!==f?Object(u.d)({name:"unexpected dummy size",value:JSON.stringify({dummy_height:c,dummy_width:f,dummy_text:a})}):h(o)&&Object(u.d)({name:"unexpected zero-sized rendered dummy",value:"dummy_text == "+a}),{fontSize:0,width:0,height:0};s()(c>0&&f>0);var v=e/f,m=n/c,y=Math.min(v,m),b=y*i,g=y*f,w=y*c;return s()(p(b)&&p(w)&&p(g),{fontSize:b,width:g,height:w,dummy_width:f,dummy_height:c,outer_width:e,outer_height:n}),{fontSize:b,width:g,height:w}}(e,n,i),o=r.fontSize,a=r.height,c=r.width,f={dom_el:e.id,height:a,width:c,max_height:i,max_width:n,fontSize:o};return s()(p(o)&&p(a)&&p(c)&&a<=1.02*i&&c<=1.02*n,f),{fontSize:o,height:a,width:c,max_height:i,max_width:n}}function _(t){if(!i){var e=document.createElement("div");e.pointerEvents="none",e.style.overflow="hidden",e.style.height="1px",e.style.width="1px",e.style.position="absolute",e.style.zIndex="999999999",e.visibility="hidden",(i=document.createElement(t)).style.position="absolute",e.prepend(i),document.body.prepend(e)}return s()(i.tagName===t),i}function l(t,e){return document.defaultView.getComputedStyle(t).getPropertyValue(e)}function p(t){return s()(!0),null!==t&&(0===t||t&&t.constructor===Number&&t>0)}function d(t,e){s()(t,"[get_size][error]",{styleProp:e,el:t});var n=t.id,i=h(t),r=l(t,e);if(!r)return i&&Object(u.d)({name:"unexpected computed style",value:"val == "+r}),0;var o=parseInt(r,10);return o||0===o?(s()(p(o),"[get_size][error]",{el_id:n,styleProp:e,val:r,val__casted:o}),o):(i&&Object(u.d)({name:"unexpected computed style value",value:"val == "+r}),0)}function h(t){return null!==t.offsetParent}var f,v=n(73);e.a=function(t){var e=t.content_on_top,n=t.top_line_content,i=t.id;return o.a.createElement("div",{id:"bt-zoom-container",style:{width:"100%"}},o.a.createElement("div",{id:"bt-layout-container",className:"bt-position-center"},o.a.createElement("div",{id:"bt-layout-top"},o.a.createElement("div",{id:"bt-layout-top-content"},e)),o.a.createElement("div",{id:i,className:"bt-layout-middle"},o.a.createElement("table",{id:"bt-middle-table","click-name":"big-zoomable-text"},o.a.createElement("tr",null,o.a.createElement("td",{id:"bt-top-line"},n)),o.a.createElement("tr",null,o.a.createElement("td",{id:"bt-bot-line"})))),o.a.createElement("div",{id:"bt-layout-bottom"})))};function m(t){s()(["top-left","top","top-right","center-left","center","center-right","bottom-left","bottom","bottom-right"].includes(t),{position:t});var e=document.querySelector("#bt-layout-container");["top","center","bottom","right","left"].forEach((function(n){e.classList[t.includes(n)?"add":"remove"]("bt-position-"+n)}))}function y(){var t,e,n;window.addEventListener("resize",w,{passive:!0}),t=document.querySelector("#bt-zoom-container"),e=document.querySelector("#bt-layout-container"),n=document.querySelector("#bt-middle-table"),s()(t&&e&&n),Object(v.a)({containerEl:t,scaleEl:e,zoomEl:n})}function b(t){var e=document.getElementById("bt-bot-line");s()(e),e.innerHTML=t}function g(t){f=t}function w(){var t=document.getElementById("bt-bot-line"),e=document.getElementById("bt-top-line");s()(t&&e,"Missing bottom/top line",{bot_el:t,top_el:e});var n=function(){var t=window.innerWidth,e=window.innerHeight;s()(p(t)&&p(e),"unexpected window sizes",{max_width:t,max_height:e});var n=d(document.querySelector("#bt-zoom-container"),"width");s()(p(n),"unexpected container width",{container_width:n}),t=Math.min(t,n);var i=document.getElementById("bt-middle-table"),r={width:d(i,"padding-left")+d(i,"padding-right"),height:d(i,"padding-top")+d(i,"padding-bottom")};t-=r.width,e-=r.height;var o=document.getElementById("bt-layout-top-content"),a=0;o&&(a=d(o,"height"));e-=a;var u=parseInt(f(),10)||1/0;return s()(p(u),{width_limit:u}),t=Math.min(t,u),e=Math.min(e,1.6*t),e=Math.max(e,0),t=Math.max(t,0),s()(p(t)&&p(e),{max_height:e,max_width:t}),{max_width:t,max_height:e}}(),i=n.max_height,r=n.max_width,o=function(t){var e,n,i=t.bot_el,r=t.top_el,o=t.max_height,a=t.max_width;if(e=c({dom_el:r,max_width:a,max_height:o}),""!=i.innerHTML){if(n=c({dom_el:i,max_width:.95*e.width,max_height:o}),e.height+n.height>o){e=c({dom_el:r,max_width:a,max_height:o*(1-1/3)}),n=c({dom_el:i,max_width:.95*e.width,max_height:o*(1/3)}),e=c({dom_el:r,max_width:a,max_height:o-n.height})}}return{bot_line_sizes:n,top_line_sizes:e}}({max_height:i,max_width:r,top_el:e,bot_el:t}),a=o.bot_line_sizes,u=o.top_line_sizes;s()(p(u.fontSize)&&(!a||p(a.fontSize)),{top_line_sizes:u,bot_line_sizes:a}),a&&(t.style.fontSize=a.fontSize+"px"),e.style.fontSize=u.fontSize+"px"}},493:function(t,e,n){n(22),t.exports=n(494)},494:function(t,e,n){"use strict";var i,r=n(18);r.initFunctions={},r.initFunctions=r.initFunctions||{},r.initFunctions.hydratePage=!0===((i=n(24))||{}).__esModule?i.default:i,r.pageConfig=function(){var t=n(507);return!0===(t||{}).__esModule?t.default:t}(),r.router=function(){var t=n(25);return!0===(t||{}).__esModule?t.default:t}(),r.renderPageToDom=function(){var t=n(26);return!0===(t||{}).__esModule?t.default:t}(),r.domRender=function(){var t=n(27);return!0===(t||{}).__esModule?t.default:t}(),function(){var t=n(28);!0===(t||{}).__esModule&&t.default}()},495:function(t,e,n){},507:function(t,e,n){"use strict";n.r(e);var i,r=n(21),o=n(74),a=n(16),s=n(84);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){var e=t.get_option_value;i=e,function t(){_(),setTimeout(t,1001)}()}function _(){var t=document.querySelector("#top-text"),e=document.querySelector("#center-text"),n=new Date(i("countdown_date")),r=i("countdown_title");r=r.replace("%date",(new Date).toLocaleDateString());var o=function(t){var e=t,n=(_=(e=e/1e3|0)%60,(0<=_&&_<=9?"0":"")+_),i=(e=e/60|0)%60,r=(e=e/60|0)%24,o=(e=e/24|0)%30,a=(e=e/30|0)%12,s="",c="";var _;return[[e=e/12|0,"y","year"],[a,"mo","month"],[o,"d","day"],[r,"h","hour"],[i,"m","minute"],[n,"s",""]].filter((function(t){return u(t,1)[0]})).forEach((function(t,e){var n=u(t,3),i=n[0],r=n[1],o=n[2];if(0===e)return s=i,void(o&&(s+=" "+o+(1!=i?"s":"")));c&&(c+=" "),c+=i+r})),{time_major:s,time_minor:c}}(n-new Date),s=o.time_major,c=o.time_minor;!function(t){var e=t.time_major,n=t.countdown_title,i=e;n&&(i+=" - "+n+" - Countdown");document.title=i}({time_major:s,countdown_title:r}),e.textContent=s,t.textContent=r,Object(a.d)(c),Object(a.c)()}var l=new Date((new Date(new Date-288e5).getFullYear()+1).toString()),p=new Date("November 3, 2020"),d={trump_wins_2020:{countdown_size:"380",countdown_title:"Trump Wins",countdown_date:p,countdown_position:"bottom",countdown_background_color:"",countdown_background_image:"https://i.imgur.com/BpA8fWK.png",countdown_font:"Roboto",countdown_shadow:"1px 1px black",countdown_color:"#0300ff"},trump_loses_2020:{countdown_size:"380",countdown_title:"End of Trump",countdown_date:p,countdown_position:"bottom",countdown_background_color:"",countdown_background_image:"https://i.imgur.com/srnUbAPh.jpg",countdown_font:"Roboto",countdown_shadow:"1px 1px black",countdown_color:"white"},new_year:{countdown_size:"580",countdown_title:"2021",countdown_date:l,countdown_position:"center",countdown_background_color:"",countdown_background_image:"https://i.imgur.com/H4ZC3pZ.jpg",countdown_font:"Roboto",countdown_shadow:"0 1px 1px #000000",countdown_color:"#e9e9e9"},christmas:{countdown_size:"380",countdown_title:"Christmas",countdown_date:new Date("December 25, "+(new Date).getFullYear()),countdown_position:"top",countdown_background_color:"",countdown_background_image:"https://i.imgur.com/Px80XKC.jpg",countdown_font:"Roboto",countdown_shadow:"0 2px 2px black",countdown_color:"#f1f1f1"}},h=function(){var t=document.getElementById("countdown-container"),e=new s.a({option_spec_list:[{option_id:"countdown_preset",option_type:"preset-input",option_default:"christmas"},{option_id:"countdown_date",option_type:"date-input",option_description:"Date",option_default:f(),is_creator_option:!0},{option_id:"countdown_title",option_type:"text-input",option_description:"Title",option_default:"Until %date",is_creator_option:!0},{option_id:"countdown_position",option_type:"choice-input",option_choices:["top-left","top","top-right","center-left","center","center-right","bottom-left","bottom","bottom-right"],option_description:"Countdown position",option_default:"bottom",is_creator_option:!0},{option_id:"countdown_font",option_type:"text-font-input",option_description:"Font",option_default:"Roboto",is_creator_option:!0},{option_id:"countdown_color",option_type:"text-color-input",option_description:"Font color",option_default:"#2c2c2c",is_creator_option:!0},{option_id:"countdown_shadow",option_type:"text-shadow-input",option_description:"Font shadow",option_default:"",option_placeholder:"see css text-shadow",is_creator_option:!0},{option_id:"countdown_size",option_type:"text-input",option_description:"Countdown size",option_default:"380",is_creator_option:!0},{option_id:"countdown_background_color",option_type:"background-color-input",option_description:"Background color",option_default:"#ffffff",is_creator_option:!0},{option_id:"countdown_background_image",option_type:"background-image-input",option_description:"Background image",option_default:"",option_placeholder:"image url",is_creator_option:!0}],preset_spec_list:d,text_container:t,on_any_change:function(t){var e=t.is_initial_run;r(),e||(_(),Object(a.c)())},on_font_change:function(){Object(a.c)()},no_random_preset:!0,enable_import_export:!0,subapp_id:"countdown",preset_concept_name:"Countdown"}),n=e.get_option_value.bind(e),i=e.font_loaded_promise;return e.generate_dom(),{get_option_value:n,font_loaded_promise:i};function r(){t.style.color=n("countdown_color"),t.style.textShadow=n("countdown_shadow"),Object(a.f)(n("countdown_position"))}};function f(){var t=new Date(new Date);return t.setHours(24,0,0,0),t}function v(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){v(o,i,r,a,s,"next",t)}function s(t){v(o,i,r,a,s,"throw",t)}a(void 0)}))}}var y=function(t){return b.apply(this,arguments)};function b(){return(b=m(regeneratorRuntime.mark((function t(e){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h(),i=n.get_option_value,r=n.font_loaded_promise,Object(a.e)((function(){return i("countdown_size")})),c({get_option_value:i}),Object(a.b)(),t.next=6,Promise.race([r,Object(o.a)({seconds:.4})]);case 6:e();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(495);var g=n(0),w=n.n(g),k=n(82),O=n(83),x=function(){return w.a.createElement(r.b,null,w.a.createElement(r.e,null,w.a.createElement(r.a,null,w.a.createElement(a.a,{id:"countdown-container",content_on_top:null,top_line_content:w.a.createElement(j,null)})),w.a.createElement(r.d,null,w.a.createElement(O.a,{preset_concept_name:"Countdown"}),w.a.createElement(k.a,{preset_concept_name:"Countdown"}))))};function j(){return w.a.createElement("div",null,w.a.createElement("div",{id:"top-text"}),w.a.createElement("div",{id:"center-text"}))}e.default=Object(r.f)({route:"/countdown",title:"Countdown",view:x,onPageLoad:y})},51:function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var i=function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.IGNORE_LIST,n=t.INCLUDE_LIST;function o(){var t=window.location.hash;r()?i():(e||n)&&(e&&e.includes(t)||n&&!n.includes(t)||i())}o(),[100,300,600,900].forEach((function(t){return setTimeout(o,t)})),window.addEventListener("hashchange",o,{passive:!0,capture:!1})};function r(){return"#"===window.location.hash||!!window.location.href.endsWith("#")}},82:function(t,e,n){"use strict";var i=n(0),r=n.n(i);function o(t){var e=t.children;return r.a.createElement("div",{style:{marginTop:11,marginBottom:-11}},e)}e.a=function(t){t.preset_concept_name;return r.a.createElement("div",{className:"more_panel_block"},r.a.createElement("div",{className:"more_panel_block_title"},"News"),r.a.createElement(o,null,"August, 19th"),r.a.createElement("ul",null,r.a.createElement("li",null,"Improve centering algorithm.")),r.a.createElement(o,null,"July, 27th"),r.a.createElement("ul",null,r.a.createElement("li",null,"Visual design improvements.")),r.a.createElement(o,null,"July, 25th"),r.a.createElement("ul",null,r.a.createElement("li",null,"New Themes: LCD, LCD Green, Modern.")),r.a.createElement(o,null,"April, 29th"),r.a.createElement("ul",null,r.a.createElement("li",null,"Lower GPU footprint.")),r.a.createElement(o,null,"April, 21th"),r.a.createElement("ul",null,r.a.createElement("li",null,"Bigger clock size for smaller browser window sizes.")),r.a.createElement(o,null,"April, 11th"),r.a.createElement("ul",null,r.a.createElement("li",null,"New clock layout algorithm for a more robust layout."),r.a.createElement("li",null,"Lower CPU and RAM memory footprint.")),r.a.createElement(o,null,"March, 31th"),r.a.createElement("ul",null,r.a.createElement("li",null,"Countdown — check out the brand new Countdown Tab."),r.a.createElement("li",null,"Themes super-powered — you can now create, save, and share Themes."),r.a.createElement("li",null,"World Clock — to create multiple Clocks and convert timezones."),r.a.createElement("li",null,"Msg Tab — Communication-over-Screen, useful in education.")),"If you encounter any issue with these new features then"," ",r.a.createElement("a",{href:"/repair"},"let me know"),".")}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n.n(i);function o(t){var e=t.preset_concept_name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"more_panel_block"},r.a.createElement("div",{className:"more_panel_block_title"},e),r.a.createElement("div",{id:"creator-content"})),r.a.createElement("div",{id:"save-container",className:"more_panel_block"},r.a.createElement("div",{className:"more_panel_block_title"},"Save"),r.a.createElement("div",{id:"save-content"})),r.a.createElement("div",{id:"options-container",className:"more_panel_block"},r.a.createElement("div",{className:"more_panel_block_title"},"Options"),r.a.createElement("div",{id:"options-content"})),r.a.createElement("div",{id:"share-container",className:"more_panel_block"},r.a.createElement("div",{className:"more_panel_block_title"},"Share"),r.a.createElement("div",{id:"share-preamble"},"You can create and share ",e,"s; customize an existing"," ",e,", save it under a new name, then use its share link."),r.a.createElement("div",{id:"share-content"},"Share Link: ")))}},84:function(t,e,n){"use strict";n.d(e,"a",(function(){return Mt}));var i=n(1),r=n.n(i);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){u(o,i,r,a,s,"next",t)}function s(t){u(o,i,r,a,s,"throw",t)}a(void 0)}))}}var _,l=function(t){return p.apply(this,arguments)};function p(){return(p=c(regeneratorRuntime.mark((function t(e){var i,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){r()(e,{font_name:e}),i.load(a({},d(e),{fontactive:o,fontinactive:function(){u++;var t=Math.pow(2,u),e=Math.max(t,60);setTimeout(c,1e3*e)}}))},r()(e,{font_name:e}),i=n(192),s=new Promise((function(t){return o=t})),u=0,c(),t.next=8,s;case 8:return t.abrupt("return");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return["AirbnbCereal","LCD"].includes(t)?{custom:{families:[t],urls:["/fonts/"+t+"/"+t+".css"]}}:{google:{families:[t]}}}var h,f=function(){if(h)return h;var t;return h=new Promise((function(e){return t=e})),window.onfontsload=function(e){if(e.error)return console.error(e.error.message),void t([]);var n=e.items.map((function(t){return t.family})).sort();t(n)},function(t,e){_=_||document.getElementsByTagName("head")[0];var n=0;!function i(){var r=document.createElement("script");r.src=t,r.onerror=function(){_.removeChild(r),setTimeout(i,Math.min(1e3*Math.pow(2,n),6e4))},e&&(r.onload=e),n++,_.appendChild(r)}()}("https://www.googleapis.com/webfonts/v1/webfonts?callback=onfontsload&sort=popularity&key=AIzaSyAOMrdvfJJPa1btlQNCkXT9gcA-lCADPeE"),h};var v,m;n(141);function y(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){y(o,i,r,a,s,"next",t)}function s(t){y(o,i,r,a,s,"throw",t)}a(void 0)}))}}function g(){return(g=b(regeneratorRuntime.mark((function t(e,n,i){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=E(),x(i),t.next=4,k(n,r);case 4:if(o=t.sent,!r()){t.next=7;break}return t.abrupt("return");case 7:w(e,o,!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,n){!function(t){t=t||"transparent",v.style.backgroundColor!==t&&(v.style.backgroundColor=t)}(t),function(t){t=t||"none",v.style.backgroundImage!==t&&(v.style.backgroundImage=t)}(e),v.classList[n?"add":"remove"]("show-load-indicator")}function k(t,e){return O.apply(this,arguments)}function O(){return(O=b(regeneratorRuntime.mark((function t(e,n){var i,r,o,a,s,u,c,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_=function(){window.setTimeout((function(){n()||s||w(null,null,!0)}),50)},c=function(){n()||alert("Image "+e+" could not be loaded. Is the image online? Do you have an internet connection? Does the URL point to an image? (Note that the URL should point to the image itself and not to a page containing the image.)")},u=function(){var t=r.width,i=r.height;return t*i>8e6?(n()||alert("The provided image has a size of "+t+"*"+i+" pixels. Large images are likely to slow down your machine. Thus only images of up to 8 000 000 pixels are allowed. (For example, any image bellow 5000*1600 is fine.)"),null):'url("'+e+'")'},e){t.next=5;break}return t.abrupt("return",null);case 5:if(!/^data:image/.test(e)){t.next=9;break}return i=e+"",t.abrupt("return",i);case 9:return r=document.createElement("img"),a=new Promise((function(t){o=t})),s=!1,r.onload=function(){s=!0;var t=u();o(t)},r.onerror=function(){s=!0,c(),o(null)},_(),r.src=e,t.abrupt("return",a);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){r()(t,{bg_container_selector:t}),r()(void 0===m||t===m,{bg_container_selector:t,bg_container_selector_:m}),m=t;var e=document.querySelector(t);if(r()(e,{bg_container_selector:t}),r()(!0,{bg_container:e,bg_container_:void 0}),!v){var n=document.createElement("div");n.id="background-area-wrapper";var i=document.createElement("div");i.id="background-area",i.style.backgroundSize="cover",n.prepend(i),e.prepend(n),v=i}}var j=0;function E(){var t=++j;return function(){return t!==j}}n(142);var S=n(7),P=n(51),z=n(105),C=n.n(z),T=(n(193),n(5));function A(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t,e,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function H(t,e,n){return e&&W(t.prototype,e),n&&W(t,n),t}function U(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var J=0;function Y(t){return"__private_"+J+++"_"+t}var G=function(){function t(e){q(this,t),this._props=void 0,this._input_id=void 0,Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:void 0}),this.input_tag=void 0,this.input_type=void 0,this._dom_el=void 0,this._input_el=void 0,this._props=e;var n=e.input_id,i=e.on_input_change,o=e.input_default;r()(n&&i),this._input_id=n,U(this,V)[V]=i,U(this,Z)[Z]=o,U(this,$)[$]=n}return H(t,[{key:"input_get",value:function(){return this._input_retriever()}},{key:"has_stored_value",value:function(){return T.c.has_val(U(this,$)[$])}},{key:"get_stored_value",value:function(){return T.c.get_val(U(this,$)[$])}},{key:"set_stored_value",value:function(t){T.c.set_val(U(this,$)[$],t)}},{key:"input_set",value:function(t){this.set_stored_value(t),this._input_modifier(t),U(this,V)[V]()}},{key:"init",value:function(){var t=this,e=this.input_tag,n=this.input_type;r()(e),r()(n||"input"!==e);var i=function(t){var e=t.input_tag,n=t.input_type,i=t.input_id,o=t.input_description,a=t.input_width,s=t.input_container;r()(e),r()(n||"input"!==e),r()(i),r()(s,{input_id:i});var u=document.createElement("label");r()(["select","input"].includes(e));var c,_=document.createElement(e);_.id=i,n&&_.setAttribute("type",n);o&&((c=document.createElement("span")).textContent=o);"checkbox"===n?(u.appendChild(_),c&&u.appendChild(c)):(c&&u.appendChild(c),u.appendChild(_));a&&(_.style.width=a);return s.appendChild(u),{dom_el:u,input_el:_}}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({input_tag:e,input_type:n},this._props)),o=i.dom_el,a=i.input_el;this._dom_el=o,this._input_el=a,this._init_dom&&this._init_dom();var s=this.has_stored_value()?this.get_stored_value():U(this,Z)[Z];void 0!==s&&this._input_modifier(s),this._input_el.addEventListener(this._change_event,(function(){var e=t._input_retriever();t.set_stored_value(e),U(t,V)[V]()}),!1)}},{key:"hide",value:function(){it(this._dom_el,!0)}},{key:"show",value:function(){it(this._dom_el)}},{key:"_input_retriever",value:function(){return this._input_el.value}},{key:"_input_modifier",value:function(t){this._input_el.value=t}},{key:"_change_event",get:function(){return"change"}}]),t}(),V=Y("on_input_change"),Z=Y("input_default"),$=Y("storage_key"),K=function(t){function e(t){var n;return q(this,e),(n=I(this,M(e).call(this,t))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="checkbox",n}return R(e,t),H(e,[{key:"_input_retriever",value:function(){return!!this._input_el.checked}},{key:"_input_modifier",value:function(t){t?this._input_el.setAttribute("checked","true"):this._input_el.removeAttribute("checked")}},{key:"init",value:function(){L(M(e.prototype),"init",this).call(this),this._dom_el.classList.add("pointer-cursor")}}]),e}(G),X=function(t){function e(t){var n;return q(this,e),(n=I(this,M(e).call(this,t))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="text",n}return R(e,t),H(e,[{key:"init",value:function(){L(M(e.prototype),"init",this).call(this);var t=this._props.input_placeholder;t&&(this._input_el.placeholder=t)}},{key:"_change_event",get:function(){return"input"}}]),e}(G),Q=function(t){function e(t){var n,i=t.input_options,r=A(t,["input_options"]);return q(this,e),(n=I(this,M(e).call(this,r))).input_tag=void 0,n.input_options=void 0,n.input_tag="select",n.input_options=i,n}return R(e,t),H(e,[{key:"refresh",value:function(){this._init_dom()}}],[{key:"get_divider",value:function(t){return{divider_html:"<option disabled>"+(t?"─── "+t+" ───":"───────────────")+"</option>"}}}]),H(e,[{key:"_init_dom",value:function(){var t=this;r()(this.input_options.length>0,this._input_id);var e="";this.input_options.forEach((function(n){e+=t._generate_option_html(n)})),this._input_el.innerHTML=e}},{key:"add_options",value:function(t){var e=this,n=this._input_retriever(),i=Array.from(this._input_el.querySelector("option")).map((function(t){return t.value})),r=this._input_el.innerHTML;t.forEach((function(t){var n=e._parse_option_arg(t).val;n&&i.includes(n)||(r+=e._generate_option_html(t))})),this._input_el.innerHTML=r,this._input_modifier(n)}},{key:"_input_modifier",value:function(t){r()(t,"empty select",""===t,this._input_el.id,{val:t}),this._input_el.querySelector('option[value="'+t+'"]')||(this._input_el.innerHTML=this._generate_option_html(t)+e.get_divider().divider_html+this._input_el.innerHTML),L(M(e.prototype),"_input_modifier",this).call(this,t)}},{key:"_generate_option_html",value:function(t){var e=this._parse_option_arg(t),n=e.val,i=e.val_pretty,r=e.divider_html;return r||'<option label="'+i+'" value="'+n+'">'+i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")+"</option>"}},{key:"_parse_option_arg",value:function(t){r()(t,this._input_id,{option_arg:t});var e=t.divider_html;if(e)return{divider_html:e};var n=t.val||t;r()(n&&n.constructor===String,t);var i=t.val_pretty||n;return r()(i.constructor===String,i),{val:n,val_pretty:i}}}]),e}(G),tt=function(t){function e(){var t,n;q(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=I(this,(t=M(e)).call.apply(t,[this].concat(r)))).input_tag="input",n.input_type="datetime",n}return R(e,t),H(e,[{key:"_init_dom",value:function(){C()(this._input_el,{enableTime:!0})}}]),e}(G),et=function(t){function e(t){var n;return q(this,e),(n=I(this,M(e).call(this,t))).input_tag=void 0,n.input_type=void 0,n.input_tag="input",n.input_type="color",n}return R(e,t),H(e,[{key:"init",value:function(){L(M(e.prototype),"init",this).call(this),this._dom_el.classList.add("pointer-cursor")}}]),e}(G),nt=function(){function t(e){var n=e.on_click,i=e.text,r=e.input_container,o=e.className,a=void 0===o?null:o,s=e.id;q(this,t),this.on_click=void 0,this.text=void 0,this.input_container=void 0,this.className=void 0,this.id=void 0,this.dom_el=void 0,this.on_click=n,this.text=i,this.input_container=r,this.className=a,this.id=s}return H(t,[{key:"generate_dom",value:function(){var t=this,e=document.createElement("button");this.className&&e.setAttribute("class",this.className),e.setAttribute("type","button"),e.setAttribute("id",this.id),e.onclick=function(e){e.preventDefault(),t.on_click()},e.textContent=this.text,this.input_container.appendChild(e),this.dom_el=e}},{key:"hide",value:function(){it(this.dom_el,!0)}},{key:"show",value:function(){it(this.dom_el)}}]),t}();function it(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?t.setAttribute("disabled","true"):t.removeAttribute("disabled"),t.style.width=e?"0px":"",t.style.height=e?"0px":"",t.style.visibility=e?"hidden":"visible",t.style.position=e?"absolute":"",t.style.zIndex=e?"-1":""}var rt=n(47);function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function at(t){var e=t.key_replacements,n=t.value_replacements,i={},r=!1;if(Object.entries(localStorage).forEach((function(t){var o=ot(t,2),a=o[0],s=o[1];e&&a in e&&(a=e[a],r=!0),n&&a in n&&s in n[a]&&(s=n[a][s],r=!0),i[a]=s})),r)return r&&(localStorage.clear(),Object.keys(i).forEach((function(t){localStorage[t]=i[t]}))),r}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(){var t;at({key_replacements:(t={theme:"clock_theme",bg_image:"clock_background_image",bg_color:"clock_background_color",font_shadow:"clock_shadow",color_font:"clock_color",font_size:"clock_size"},st(t,"12_hour","clock_twelve_hour_format"),st(t,"show_pm","clock_display_period"),st(t,"show_seconds","clock_display_seconds"),st(t,"show_date","clock_display_date"),st(t,"show_week","clock_display_week"),st(t,"show_seconds_title","clock_tab_display_seconds"),st(t,"color_icon","clock_tab_icon_color"),t),value_replacements:{clock_theme:{"":"_creator",random:"_random"}}})}function ct(t){["countdown_presets","clock_presets"].forEach((function(e){var n=localStorage[e];if(n){var i=JSON.parse(n),r=!1;if(i.forEach((function(e){t(e)&&(r=!0)})),r){var o=JSON.stringify(i);localStorage[e]=o}}}))}function _t(){ct((function(t){return r()(t.preset_name||t.preset_id),t.preset_name?(t.preset_id=t.preset_name,delete t.preset_name,!0):(r()(t.preset_options||t.preset_values),t.preset_options?(t.preset_values=t.preset_options,delete t.preset_options,!0):void 0)}))}function lt(){ct((function(t){if(r()(t.app_name||t.subapp_id),t.app_name)return t.subapp_id=t.app_name,delete t.app_name,!0}))}function pt(){at({key_replacements:{bg_url:"timer_background_image",goto_url:"timer_youtube_alarm"}})&&(localStorage.timer_theme="_creator")}function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ht(){Object.entries(localStorage).forEach((function(t){var e=dt(t,2),n=e[0],i=e[1];(n.startsWith("timer_")||n.startsWith("clock_")||n.startsWith("countdown_")||"thanks-for-your-donation"===n)&&(n.endsWith("_presets")&&(i=JSON.parse(i)),"thanks-for-your-donation"===n&&(i=!0),T.c.set_val(n,i),window.localStorage.removeItem(n))})),T.c.migrate__rename_keys({"thanks-for-your-donation":"ad_removal"})}function ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vt(t,e,n){return(vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?bt(t):e}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function St(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pt(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}function zt(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){Pt(o,i,r,a,s,"next",t)}function s(t){Pt(o,i,r,a,s,"throw",t)}a(void 0)}))}}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function At(t,e,n){return e&&Tt(t.prototype,e),n&&Tt(t,n),t}function Dt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}ut.schema_version=new Date("2020-03-01"),_t.schema_version=new Date("2020-03-02"),lt.schema_version=new Date("2020-03-03"),pt.schema_version=new Date("2020-03-04"),ht.schema_version=new Date("2020-04-21");var It=0;function Lt(t){return"__private_"+It+++"_"+t}!function(){if("undefined"!=typeof window){var t=[ut,_t,lt,pt,ht],e=T.c.get_schema_version();r()(e.constructor===Date),t.forEach((function(n,i){var o=n.schema_version;r()(o.constructor===Date),r()(i===t.length-1||o.getTime()<t[i+1].schema_version.getTime()),e.getTime()<o.getTime()&&(n(),T.c.set_schema_version(o))}))}}();var Mt=function(){function t(e){var n=this,i=e.option_spec_list,o=e.preset_spec_list,a=e.text_container,s=void 0===a?null:a,u=e.no_random_preset,c=void 0!==u&&u,_=e.on_any_change,l=e.on_font_change,p=void 0===l?null:l,d=e.enable_import_export,h=e.subapp_id,f=e.preset_concept_name;Ct(this,t),this.preset_concept_name=void 0,this.text_container=void 0,this.no_random_preset=void 0,this.on_any_change=void 0,this.on_font_change=void 0,this.enable_import_export=void 0,this.subapp_id=void 0,this.creator_content=void 0,this.options_content=void 0,this.options_container=void 0,this.save_content=void 0,this.save_container=void 0,this.share_content=void 0,this.share_container=void 0,this.preset_list=void 0,this.option_list=void 0,this.resolve_font_loaded_promise=void 0,this.font_loaded_promise=void 0,this.button_mod=void 0,this.button_del=void 0,this.name_option=void 0,this.button_url=void 0,Object.defineProperty(this,Rt,{writable:!0,value:null}),Object.defineProperty(this,Nt,{writable:!0,value:null}),Object.defineProperty(this,Bt,{writable:!0,value:null}),Object.defineProperty(this,Ft,{writable:!0,value:!1}),r()(f);var v,m,y=!!i.find((function(t){return"text-font-input"===t.option_type})),b=!!i.find((function(t){return"text-shadow-input"===t.option_type})),g=!!i.find((function(t){return"text-color-input"===t.option_type}));r()(!s&&!p&&!y&&!b&&!g||s&&p&&y&&b&&g),this.preset_concept_name=f,this.text_container=s,this.no_random_preset=c,this.on_any_change=_,this.on_font_change=p,this.enable_import_export=d,this.subapp_id=h,this.creator_content=document.getElementById("creator-content"),this.options_content=document.getElementById("options-content"),this.options_container=document.getElementById("options-container"),this.save_content=document.getElementById("save-content"),this.save_container=document.getElementById("save-container"),this.share_content=document.getElementById("share-content"),this.share_container=document.getElementById("share-container"),this.preset_list=new ne({preset_spec_list:o,tab_settings:this}),this.option_list=(m=(v={tab_settings:this,option_spec_list:i}).tab_settings,v.option_spec_list.map((function(t){var e=t.option_type,n=Et(t,["option_type"]);r()(n.option_id,n);var i=xt({},n,{tab_settings:m});return"text-font-input"===e?new Qt(i):"preset-input"===e?new $t(i):"text-color-input"===e?new Vt(i):"color-input"===e?new Gt(i):"text-shadow-input"===e?new Zt(i):"text-input"===e?new Yt(i):"background-image-input"===e?new Kt(i):"background-color-input"===e?new Xt(i):"boolean-input"===e?new Ht(i):"date-input"===e?new Wt(i):"choice-input"===e?new Jt(i):void r()(!1,{option_type:e})}))),this.resolve_font_loaded_promise,this.font_loaded_promise=new Promise((function(t){return n.resolve_font_loaded_promise=t}))}var e,n;return At(t,[{key:"generate_dom",value:function(){this.option_list.forEach((function(t){t.generate_dom()})),this.enable_import_export&&this.generate_import_export_dom(),this.global_side_effects({is_initial_run:!0})}},{key:"generate_import_export_dom",value:function(){var t=this,e=this.creator_content,n=new nt({input_container:e,text:"Customize",className:"action-button",on_click:function(){t.modify_preset()},id:"modify-preset-button"});n.generate_dom(),this.button_mod=n;var i=new nt({input_container:e,text:"Delete",className:"action-button",on_click:function(){t.delete_preset()},id:"delete-preset-button"});i.generate_dom(),this.button_del=i,e=this.save_content;var o=this.subapp_id;r()(o);var a=new Yt({input_container:e,option_id:o+"_name",input_width:"150px",option_description:this.preset_concept_name+" name",option_default:"",tab_settings:this,id:"preset-name-input"});a.generate_dom(),this.name_option=a;var s=new nt({input_container:e,text:"Save",on_click:function(){t.save_created_preset()},id:"save-preset-button"});s.generate_dom(),this.button_url=s}},{key:"save_created_preset",value:function(){var t=this.preset_selected;r()(t.is_creator_preset,t);var e=this.name_option.input_value;if(e){var n=ye.from_name_to_id(e);if(this.preset_list.get_preset_by_name(n,{can_be_null:!0})){var i="Change the name of your "+this.preset_concept_name+"; you already have a "+this.preset_concept_name+' saved with ID "'+n+'". (IDs are genrated from name; change name to change ID.)';alert(i)}else{var o={};this.option_list.filter((function(t){return t.is_creator_option})).forEach((function(t){var e=t.input_value;r()([!1,""].includes(e)||e,t.option_id,void 0===e,{preset_val:e}),o[t.option_id]=e}));var a=new se({preset_id:n,preset_values:o,tab_settings:this});this.preset_list.save_preset(a),this.select_preset(a),this.reset_creator()}}else alert("You need to provide a name for your "+this.preset_concept_name+" in order to save it.")}},{key:"reset_creator",value:function(){this.option_list.forEach((function(t){t.reset()}))}},{key:"copy_to_creator",value:function(){var t=this,e=this.active_preset;r()(e.is_real_preset);var n=e.preset_values,i=function(e){var i=n[e];r()(!["preset_name","preset_id","id","name"].includes(i)),t.find_option((function(t){return t.option_id===e})).set_input_value(i)};for(var o in n)i(o);this.select_preset_creator()}},{key:"modify_preset",value:function(){var t=this.active_preset;r()(t.is_real_preset,t);var e=this.preset_list.generate_unique_preset_id_copy(t);this.copy_to_creator(),this.name_option.set_input_value(ye.from_id_to_name(e))}},{key:"delete_preset",value:function(){var t=this.active_preset;r()(t.is_saved_preset,t),this.copy_to_creator(),this.name_option.set_input_value(t.preset_name),this.preset_list.remove_preset(t)}},{key:"global_side_effects",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.is_initial_run,i=void 0!==n&&n;i?this.run_side_effects(!0):Dt(this,Rt)[Rt]||(Dt(this,Rt)[Rt]=requestAnimationFrame((function(){t.run_side_effects(),Dt(t,Rt)[Rt]=null})))}},{key:"run_side_effects",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.update_background(),this.text_container&&(this.update_font(),this.load_font_list()),this.update_option_visibility(),this.update_button_visibility(),this.on_any_change({is_initial_run:e}),this.update_share_link(),this.update_save_block(),e&&(this.load_preset_from_url(),window.addEventListener("hashchange",(function(){return t.load_preset_from_url()}),{passive:!0}),this.track_user_presets(),this.set_options_container_visibility())}},{key:"set_options_container_visibility",value:function(){this.option_list.every((function(t){return r()(t.is_creator_option.constructor===Boolean),t.is_creator_option||t.is_preset_selector}))&&(this.options_container.style.display="none")}},{key:"track_user_presets",value:function(){Object(S.e)({name:"preset_used",value:this.preset_selected.preset_id+" "+this.preset_concept_name.toLowerCase()})}},{key:"update_share_link",value:function(){var t=this.preset_selected;if(t.is_saved_preset){this.share_container.classList.remove("no-share-link");var e=t.share_link;Dt(this,Nt)[Nt]!==e&&(Dt(this,Nt)[Nt]=e,Dt(this,Bt)[Bt]||(Dt(this,Bt)[Bt]=document.createElement("a"),Dt(this,Bt)[Bt].id="share-link-tag",this.share_content.appendChild(Dt(this,Bt)[Bt])),Dt(this,Bt)[Bt].setAttribute("href",e),Dt(this,Bt)[Bt].textContent=e)}else this.share_container.classList.add("no-share-link")}},{key:"update_save_block",value:function(){this.save_container.style.display=this.preset_selected.is_creator_preset?"":"none"}},{key:"load_preset_from_url",value:function(){var t=window.location.href,e=be.from_url();if(null!==e){var n=e.preset_id;r()(n);var i=this.preset_list.get_preset_by_name(n,{can_be_null:!0});if(i)return this.select_preset(i),Object(rt.a)(this.preset_concept_name+' "'+i.preset_name+'" already saved.'),void Object(P.b)();var o=e.subapp_id;if(r()(o),o!==this.subapp_id)alert("Wrong app: the URL hash should be loaded in a different app.");else{var a=e.preset_values;r()(a);var s=new se({preset_id:n,preset_values:a,tab_settings:this});this.preset_list.save_preset(s),this.select_preset(s),Object(rt.a)(this.preset_concept_name+' "'+s.preset_name+'" successfully saved.'),Object(P.b)(),Object(S.e)({name:"preset_imported",value:this.preset_concept_name+" "+s.preset_name,data:{preset_url:t}})}}}},{key:"update_background",value:function(){var t=this.current_backgroud_image;!function(t,e,n){g.apply(this,arguments)}(this.current_backgroud_color,t,"body")}},{key:"update_font",value:(n=zt(regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.text_container,n=function(){return i.current_font_name},t.next=4,te({text_container:e,get_font_name:n});case 4:this.on_font_change(),this.resolve_font_loaded_promise();case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"update_option_visibility",value:function(){var t=this;this.option_list.forEach((function(e){var n;e.option_dependency&&(n=e.option_dependency,!t.find_option((function(t){return t.option_id===n})).input_value)||e.is_creator_option&&!t.preset_selected.is_creator_preset?e.hide():e.show()}))}},{key:"update_button_visibility",value:function(){this.enable_import_export&&(this.preset_selected.is_saved_preset?this.button_del.show():this.button_del.hide(),this.preset_selected.is_creator_preset?(this.button_mod.hide(),this.button_url.show(),this.name_option.show()):(this.button_url.hide(),this.name_option.hide(),this.preset_selected.is_randomizer_preset?this.button_mod.hide():this.button_mod.show()))}},{key:"load_font_list",value:(e=zt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.preset_selected.is_creator_preset){t.next=2;break}return t.abrupt("return");case 2:if(!Dt(this,Ft)[Ft]){t.next=4;break}return t.abrupt("return");case 4:return Dt(this,Ft)[Ft]=!0,t.t0=this.font_option,t.t1=[Q.get_divider()],t.t2=St,t.next=10,f();case 10:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t5=t.t1.concat.call(t.t1,t.t4),t.t0.add_fonts.call(t.t0,t.t5);case 14:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"find_option",value:function(t){var e=this.option_list.find(t);return r()(e),e}},{key:"select_preset_creator",value:function(){this.active_preset=this.preset_list.creator_preset}},{key:"select_preset",value:function(t){this.active_preset=t}},{key:"get_option_value",value:function(t){return this.find_option((function(e){return e.option_id===t})).active_value}},{key:"background_image_option",get:function(){return this.find_option((function(t){return t.is_background_image_option}))}},{key:"current_backgroud_image",get:function(){return this.background_image_option.active_value}},{key:"background_color_option",get:function(){return this.find_option((function(t){return t.is_background_color_option}))}},{key:"current_backgroud_color",get:function(){return this.background_color_option.active_value}},{key:"font_option",get:function(){return this.find_option((function(t){return t.is_font_option}))}},{key:"current_font_name",get:function(){return this.font_option.active_value}},{key:"active_preset",get:function(){var t,e=this.preset_selected;return t=e.is_randomizer_preset?e.random_preset:e,r()(!t.is_randomizer_preset,{active_preset:t}),r()(t.preset_id,{active_preset:t}),t},set:function(t){var e;t.constructor===String&&(e=t),(t instanceof ae||t instanceof he)&&(e=t.preset_id),r()(e,{preset_thing:t,preset_id:e}),this.preset_option.set_input_value(e)}},{key:"preset_selected",get:function(){var t=this.preset_option.input_value,e=this.preset_list.get_preset_by_name(t,{can_be_null:!0});if(e)return e;var n=this.preset_option.option_default;return r()(n,{default_preset_id:n}),this.preset_list.get_preset_by_name(n)}},{key:"preset_option",get:function(){return this.find_option((function(t){return t.is_preset_selector}))}}]),t}(),Rt=Lt("global_side_effects__timeout"),Nt=Lt("previous_link"),Bt=Lt("link_el"),Ft=Lt("font_list_already_loading"),qt=function(){function t(e){var n=this,i=e.option_id,o=e.option_description,a=e.option_default,s=e.input_width,u=e.tab_settings,c=e.input_container,_=e.is_creator_option,l=void 0!==_&&_,p=Et(e,["option_id","option_description","option_default","input_width","tab_settings","input_container","is_creator_option"]);Ct(this,t),this.tab_settings=void 0,this.option_id=void 0,this.option_description=void 0,this.input_args=void 0,this.is_creator_option=void 0,this.option_default=void 0,this.user_input=void 0,r()(i),r()(u),Object.assign(this,xt({option_id:i,tab_settings:u},p)),this.is_creator_option=l,this.option_default=a,c=c||(l?this.tab_settings.creator_content:this.tab_settings.options_content),r()(c,{option_id:i}),this.input_args={input_id:i,input_description:o,on_input_change:function(){n.tab_settings.global_side_effects()},input_default:a,input_container:c,input_width:s}}return At(t,[{key:"generate_dom",value:function(){this.before_dom&&this.before_dom(),r()(this.user_input),this.user_input.init()}},{key:"set_input_value",value:function(t){this.user_input.input_set(t)}},{key:"hide",value:function(){this.user_input.hide()}},{key:"show",value:function(){this.user_input.show()}},{key:"reset",value:function(){}},{key:"input_value",get:function(){return this.user_input.input_get()}},{key:"preset_value",get:function(){return this.tab_settings.active_preset.get_preset_value(this)}},{key:"active_value",get:function(){if(this.tab_settings.preset_selected.is_creator_preset)return this.input_value;var t=this.preset_value;return this.is_creator_option||null!==t?t:this.input_value}}]),t}(),Wt=function(t){function e(t){var n;return Ct(this,e),(n=yt(this,gt(e).call(this,t))).user_input=new tt(n.input_args),n}return wt(e,t),e}(qt),Ht=function(t){function e(t){var n;return Ct(this,e),(n=yt(this,gt(e).call(this,t))).user_input=new K(n.input_args),n}return wt(e,t),e}(qt),Ut=function(t){function e(t,n){var i;return Ct(this,e),(i=yt(this,gt(e).call(this,t))).user_input=void 0,i.user_input=new Q(xt({input_options:n},i.input_args)),i}return wt(e,t),At(e,[{key:"add_options",value:function(t){this.user_input.add_options(t)}}]),e}(qt),Jt=function(t){function e(t){var n=t.option_choices,i=Et(t,["option_choices"]);return Ct(this,e),yt(this,gt(e).call(this,xt({input_width:"100px"},i),n))}return wt(e,t),e}(Ut),Yt=function(t){function e(t){var n;return Ct(this,e),(n=yt(this,gt(e).call(this,t))).input_args.input_placeholder=t.option_placeholder,n.user_input=new X(n.input_args),n}return wt(e,t),e}(qt),Gt=function(t){function e(t){var n;return Ct(this,e),(n=yt(this,gt(e).call(this,xt({input_width:"35px"},t)))).user_input=new et(n.input_args),n}return wt(e,t),e}(qt),Vt=function(t){function e(){return Ct(this,e),yt(this,gt(e).apply(this,arguments))}return wt(e,t),e}(Gt),Zt=function(t){function e(){return Ct(this,e),yt(this,gt(e).apply(this,arguments))}return wt(e,t),e}(Yt),$t=function(t){function e(t){var n,i=t.input_options,r=Et(t,["input_options"]);return Ct(this,e),(n=yt(this,gt(e).call(this,xt({input_width:"120px",input_container:r.tab_settings.creator_content},r),i))).is_preset_selector=!0,n}return wt(e,t),At(e,[{key:"before_dom",value:function(){this.user_input.input_options=this.get_input_options()}},{key:"refresh",value:function(){this.before_dom(),this.user_input.refresh()}},{key:"get_input_options",value:function(){var t=this.tab_settings.preset_list.presets_ordered,e=t.special_ones,n=t.saved_ones,i=t.native_ones,o=function(t){var e=t.preset_id,n=t.preset_name;return r()(e),r()(n),{val:e,val_pretty:n}};return e=e.map(o),n=n.map(o),i=i.map(o),n.length>0?[].concat(St(e),[Q.get_divider("Saved")],St(n),[Q.get_divider("Native")],St(i)):[].concat(St(e),[Q.get_divider()],St(i))}}]),e}(Ut),Kt=function(t){function e(){var t,n;Ct(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=yt(this,(t=gt(e)).call.apply(t,[this].concat(r)))).is_background_image_option=!0,n}return wt(e,t),e}(Yt),Xt=function(t){function e(){var t,n;Ct(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=yt(this,(t=gt(e)).call.apply(t,[this].concat(r)))).is_background_color_option=!0,n}return wt(e,t),e}(Gt),Qt=function(t){function e(t){var n,i=t.input_optoins,r=Et(t,["input_optoins"]);return Ct(this,e),(n=yt(this,gt(e).call(this,xt({input_width:"110px"},r),i))).is_font_option=!0,n}return wt(e,t),At(e,[{key:"before_dom",value:function(){this.user_input.input_options=this.tab_settings.preset_list.get_all_preset_fonts()}},{key:"add_fonts",value:function(t){this.add_options(t)}},{key:"input_value",get:function(){var t=vt(gt(e.prototype),"input_value",this);return r()(t,"empty_font_value",void 0===t,""===t,{val:t}),t}}]),e}(Ut);function te(t){return ee.apply(this,arguments)}function ee(){return(ee=zt(regeneratorRuntime.mark((function t(e){var n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text_container,i=e.get_font_name,r=i(),t.next=4,l(r);case 4:if(r===i()){t.next=6;break}return t.abrupt("return");case 6:if(r!==n.style.fontFamily){t.next=8;break}return t.abrupt("return");case 8:n.style.fontFamily=r;case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ne=function(){function t(e){var n=e.preset_spec_list,i=e.tab_settings;Ct(this,t),Object.defineProperty(this,ie,{writable:!0,value:null}),Object.defineProperty(this,re,{writable:!0,value:null}),this.tab_settings=void 0,this.randomizer_preset=void 0,this.creator_preset=void 0,this.tab_settings=i,Dt(this,ie)[ie]=new pe({subapp_id:i.subapp_id}),this.tab_settings.no_random_preset||(this.randomizer_preset=new fe({preset_list:this})),this.creator_preset=new me,Dt(this,re)[re]=Object.entries(n).map((function(t){var e=ft(t,2),n=e[0],r=e[1];return new ce({preset_id:n,preset_values:r,tab_settings:i})}))}return At(t,[{key:"save_preset",value:function(t){Dt(this,ie)[ie].save_preset(t),this.refresh_user_input()}},{key:"remove_preset",value:function(t){Dt(this,ie)[ie].remove_preset(t),this.refresh_user_input()}},{key:"refresh_user_input",value:function(){this.tab_settings.preset_option.refresh()}},{key:"_get_saved_presets",value:function(){var t=this.tab_settings;return Dt(this,ie)[ie].get_saved_presets().map((function(e){var n=e.preset_id,i=e.preset_values;return new se({preset_id:n,preset_values:i,tab_settings:t})}))}},{key:"get_preset_by_name",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.can_be_null,i=void 0!==n&&n;r()(t);var o=this._get_all_presets(),a=!0,s=!1,u=void 0;try{for(var c,_=o[Symbol.iterator]();!(a=(c=_.next()).done);a=!0){var l=c.value;if(l.preset_id===t)return l}}catch(t){s=!0,u=t}finally{try{a||null==_.return||_.return()}finally{if(s)throw u}}r()(i,"Could not find preset",{preset_id:t})}},{key:"get_all_preset_fonts",value:function(){var t=this.presets_ordered,e=t.saved_ones,n=t.native_ones,i=[].concat(St(e),St(n));i.forEach((function(t){return r()(t.is_real_preset,t.preset_id)}));var o,a=i.map((function(t){var e=t.preset_font_name;return r()(e,t.preset_id),e}));return o=a,a=Array.from(new Set(o.filter(Boolean))).sort()}},{key:"generate_unique_preset_id_copy",value:function(t){var e=this._get_all_preset_ids(),n=t.preset_id;r()(n);var i=ye.white_space_seralized;r()(i);for(var o=n.split("_").join(i).split(/-edit(-|$)/)[0]+i+"edit",a=1;a<100;a++){var s=o+(1===a?"":i+a);if(!e.includes(s))return s}r()(!1)}},{key:"_get_all_preset_ids",value:function(){return this._get_all_presets().map((function(t){return t.preset_id}))}},{key:"_get_all_presets",value:function(){var t=this.presets_ordered,e=t.special_ones,n=t.saved_ones,i=t.native_ones;return[].concat(St(e),St(n),St(i))}},{key:"random_candidates",get:function(){var t=this.presets_ordered,e=t.saved_ones,n=t.native_ones;return e.length>1?e:n}},{key:"presets_ordered",get:function(){var t=[this.creator_preset];this.randomizer_preset&&t.push(this.randomizer_preset);var e=this._get_saved_presets(),n=Dt(this,re)[re];return r()(t&&e&&n),{special_ones:t,saved_ones:e,native_ones:n}}}]),t}(),ie=Lt("preset_savior"),re=Lt("native_presets"),oe=function(){function t(){Ct(this,t)}return At(t,null,[{key:"serialize_preset",value:function(t){r()(t instanceof se);var e=t.preset_id,n=t.preset_values,i=t.tab_settings.subapp_id,o=new _e({preset_id:e,preset_values:n,subapp_id:i});return Object(T.b)(o)}},{key:"deserialize_preset",value:function(t){r()(t.constructor===String);var e=Object(T.a)(t);return e.preset_name&&!e.preset_id&&e.preset_options&&!e.preset_values&&(e.preset_id=e.preset_name,delete e.preset_name,e.preset_values=e.preset_options,delete e.preset_options),e.app_name&&!e.subapp_id&&(e.subapp_id=e.app_name,delete e.app_name),e=new _e(e)}}]),t}(),ae=function(){function t(e){var n=e.preset_id,i=e.preset_values,o=e.tab_settings;if(Ct(this,t),this.preset_id=void 0,this.preset_values=void 0,this.tab_settings=void 0,this.is_randomizer_preset=!1,this.is_creator_preset=!1,r()(n),r()([Object,le].includes(i.constructor)),r()(o),this.preset_id=n,this.preset_values=i,this.tab_settings=o,(this instanceof t?this.constructor:void 0)===t)throw new TypeError("Cannot construct Preset instances directly.")}return At(t,[{key:"get_preset_value",value:function(t){var e=t.option_id;r()(e);var n=this.preset_values;if(e in n){var i=n[e];return r()(null!==i),i}return null}},{key:"is_real_preset",get:function(){return!this.is_randomizer_preset&&!this.is_creator_preset}},{key:"preset_font_name",get:function(){var t=this.get_preset_value(this.tab_settings.font_option);return r()(t,{preset_font_name:t}),t}},{key:"preset_name",get:function(){var t=ye.from_id_to_name(this.preset_id);return r()(t,{prettified:t}),t}}]),t}(),se=function(t){function e(){var t,n;Ct(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=yt(this,(t=gt(e)).call.apply(t,[this].concat(r))),Object.defineProperty(bt(n),ue,{writable:!0,value:null}),n}return wt(e,t),At(e,[{key:"is_saved_preset",get:function(){return!0}},{key:"share_link",get:function(){return Dt(this,ue)[ue]?Dt(this,ue)[ue]:Dt(this,ue)[ue]=be.to_url(this)}}]),e}(ae),ue=Lt("generated_link"),ce=function(t){function e(t){var n;Ct(this,e),n=yt(this,gt(e).call(this,t));var i=t.preset_id;return r()(!i.includes("-"),{preset_id:i}),r()(/^[a-zA-Z0-9_]+$$/.test(i),{preset_id:i}),n}return wt(e,t),e}(ae),_e=function t(e){Ct(this,t),this.subapp_id=void 0,this.preset_id=void 0,this.preset_values=void 0,e.preset_options&&!e.preset_values&&(e.preset_values=e.preset_options,delete e.preset_options);var n=e.preset_id,i=e.preset_values,o=e.subapp_id,a=Et(e,["preset_id","preset_values","subapp_id"]);r()(0===Object.keys(a).length&&n&&i&&o,"malformatted preset data",e),this.subapp_id=o,this.preset_id=n,this.preset_values=new le(i)},le=function t(e){Ct(this,t),r()([Object,t].includes(e.constructor),e,e.constructor),Object.assign(this,e)},pe=function(){function t(e){var n=e.subapp_id;Ct(this,t),Object.defineProperty(this,de,{writable:!0,value:null}),r()(n),Dt(this,de)[de]=n}return At(t,[{key:"get_saved_presets",value:function(){return this._get_presets()}},{key:"save_preset",value:function(t){var e=t.preset_id,n=t.preset_values;r()(e),r()(n);var i=this._get_presets();if(i.find((function(t){return t.preset_id===e})))r.a.warning("Trying to save "+e+" but it is already saved.");else{var o=Dt(this,de)[de],a=new _e({preset_id:e,preset_values:n,subapp_id:o});i.push(a),this._save_presets(i)}}},{key:"remove_preset",value:function(t){var e=t.preset_id;r()(e);var n=this._get_presets(),i=n.length,o=(n=n.filter((function(t){return t.preset_id!==e}))).length;o===i&&r.a.warning(!1,"Preset "+e+" not found."),o!==i-1&&r.a.warning(!1,"Preset "+e+" found multiple times."),this._save_presets(n)}},{key:"_get_presets",value:function(){var t=T.c.get_val(this._storage_key)||[];return r()(t.constructor===Array),t=t.map((function(t){return new _e(t)}))}},{key:"_save_presets",value:function(t){r()(t.constructor===Array),t.forEach((function(t){r()(t instanceof _e)})),T.c.set_val(this._storage_key,t)}},{key:"_storage_key",get:function(){return Dt(this,de)[de]+"_presets"}}]),t}(),de=Lt("subapp_id"),he=function(){function t(){Ct(this,t),this.is_randomizer_preset=void 0,this.is_creator_preset=void 0,this.preset_id=void 0,this.preset_name=void 0}return At(t,[{key:"get_preset_value",value:function(){return null}}]),t}(),fe=function(t){function e(t){var n,i=t.preset_list;return Ct(this,e),n=yt(this,gt(e).call(this)),Object.defineProperty(bt(n),ve,{writable:!0,value:null}),n.is_randomizer_preset=!0,n.is_creator_preset=!1,n.preset_id="_random",n.preset_name="<Random>",n.preset_list=void 0,n.is_randomizer_preset=!0,n.preset_list=i,n}return wt(e,t),At(e,[{key:"pick_random_preset",value:function(){var t=this.preset_list.random_candidates;return t[Math.floor(Math.random()*t.length)]}},{key:"random_preset",get:function(){return Dt(this,ve)[ve]||(Dt(this,ve)[ve]=this.pick_random_preset()),r()(Dt(this,ve)[ve].is_real_preset,Dt(this,ve)[ve].preset_id,Dt(this,ve)[ve]),Dt(this,ve)[ve]}}]),e}(he),ve=Lt("picked"),me=function(t){function e(){var t,n;Ct(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=yt(this,(t=gt(e)).call.apply(t,[this].concat(r)))).is_randomizer_preset=!1,n.is_creator_preset=!0,n.preset_id="_creator",n.preset_name="<Creator>",n}return wt(e,t),e}(he),ye=function(){function t(){Ct(this,t)}return At(t,null,[{key:"from_id_to_name",value:function(t){r()(t);var e=/[-_]/;return r()("a"==="--a-_-_--".split(e).filter(Boolean).join("")),t.split(e).filter(Boolean).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join(" ")}},{key:"from_name_to_id",value:function(e){r()(e);var n=/[\s-_]/;return r()("a"==="  -- a-  _-  _--".split(n).filter(Boolean).join("")),e.split(n).filter(Boolean).join(t.white_space_seralized).toLowerCase()}}]),t}();ye.white_space_seralized="-";var be=function(){function t(){Ct(this,t)}return At(t,null,[{key:"_to_base64",value:function(t){var e=window.btoa(t);return r()("YWI/"===window.btoa("ab?")),e=e.split("/").join("_"),r()("YWI+"===window.btoa("ab>")),e=e.split("+").join("-")}},{key:"_from_base64",value:function(t){return t=(t=t.split("_").join("/")).split("-").join("+"),window.atob(t)}},{key:"to_url",value:function(t){r()(t instanceof ae),r()(t.is_saved_preset);var e=oe.serialize_preset(t),n=this._to_base64(e),i=window.location.href.split("#")[0],o=t.preset_id,a=encodeURIComponent(o);return r.a.warning(name!==a,{name:name,name_encoded:a}),i+"#"+a+"/"+n}},{key:"from_url",value:function(){var t,e=window.location.href.split("#")[1];if(!e)return null;if(["/fullscreen","fullscreen"].includes(e))return null;if(e.startsWith("data:image"))return null;if(!(e=e.split("/").filter(Boolean)[1]))return null;try{e=this._from_base64(e)}catch(t){return n(t),null}try{t=oe.deserialize_preset(e)}catch(t){return n(t),null}return t;function n(t){Object(rt.a)("Wrong URL. The URL could not be processed.",{is_error:!0}),Object(S.d)({name:"preset_url_parsing",value:e,err:t}),console.log(e),console.error(t)}}}]),t}()}});
//# sourceMappingURL=countdown.page.js.hash_afca31fc754110fbbd2a.js.map